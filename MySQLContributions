--Joseph Votto
--Wk7 Lab
--CIS336

--1

CREATE OR REPLACE VIEW CUST_VIEW AS 
SELECT CUSTOMERID,FIRSTNAME,LASTNAME,STATE FROM BOOK_CUSTOMER;

INSERT INTO BOOK_CUSTOMER
( 
   CUSTOMERID,FIRSTNAME,LASTNAME,STATE)
VALUES 
(
  1021,'EDWARD','BLAKE','TX');
  SELECT CUSTOMERID,FIRSTNAME,LASTNAME,STATE FROM CUST_VIEW;
  
--2

CREATE VIEW CUST_ORDER AS 
SELECT CUSTOMERID, LASTNAME, 
STATE FROM BOOK_ORDER 
INNER JOIN BOOK_CUSTOMER BC ON BO.CUSTOMERID=BC.CUSTOMERID
LEFT JOIN ORDERID OI ON ID.ORDERDATE=OI.ORDERID

--3

/*
The insert statement didn't work because I had to join two tables that rendered the view non-updatable. 

*/

--4

CREATE SEQUENCE PUBID
START WITH 7
INCREMENT BY 2
MAXVALUE 1000;

--5

INSERT INTO PUBLISHER 
(
  PUBLISHERNAME, CONTACTNAME, PHONE,PUBID
  )
VALUES 
(
'DOUBLE WEEK', 'JENNIFER CLOSE', '800-959-6321',PUBNUM_SEQ.NEXTVAL
)
/

INSERT INTO PUBLISHER 
(
  PUBLISHERNAME, CONTACTNAME, PHONE,PUBID
  )
VALUES 
(
'SPECIFIC HOUSE', 'FREDDIE FARAMORE', '866-825-3200',PUBNUM_SEQ.NEXTVAL
)
/
SELECT * FROM PUBLISHER;

--6

SELECT PUBNUM_SEQ.CURRVAL, PUBNUM_SEQ.NEXTVAL FROM DUAL;

--7

CREATE INDEX BOOK_ORDER_IDX
ON BOOK_ORDER(ORDERID,CUSTOMERID)
/

--8

SELECT DISTINCT OBJECT_TYPE AS "MY OBJECTS"
FROM USER_OBJECTS
/
